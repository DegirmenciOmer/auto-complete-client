{"version":3,"sources":["components/ClientCard.js","components/Dropdown.js","util/fetchData.js","pages/HomePage.js","App.js","index.js"],"names":["ClientCard","client","first_name","last_name","photo","origin","gender","className","alt","src","Dropdown","options","value","setValue","prompt","searchQuery","setSearchQuery","useState","open","setOpen","cursor","setCursor","inputRef","useRef","toggleOptions","e","target","current","useEffect","document","addEventListener","removeEventListener","ref","placeholder","type","onChange","onKeyDown","key","c","length","keyboardNavigation","map","option","onClick","id","url","setLoading","setError","a","fetchUrl","fetch","res","json","data","console","log","err","HomePage","clients","setClients","error","loading","URL","fetchData","then","Error","Grid","Row","val","Loader","active","inline","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"+MAkBeA,EAhBI,SAAC,GAEb,IAAD,IADJC,OAAUC,EACN,EADMA,WAAYC,EAClB,EADkBA,UAAWC,EAC7B,EAD6BA,MAAOC,EACpC,EADoCA,OAAQC,EAC5C,EAD4CA,OAEhD,OACE,sBAAKC,UAAU,OAAf,UACE,qBAAKC,IAAI,gBAAgBC,IAAKL,EAAOG,UAAU,UAC/C,uCAAQL,EAAR,YAAsBC,KACtB,yCAAuB,OAAXE,EAAkB,MAAQA,KACtC,yCAAuB,OAAXC,EAAkB,MAAQA,KACtC,4BACE,mDCyFOI,EAnGE,SAAC,GAOX,IANLC,EAMI,EANJA,QACAC,EAKI,EALJA,MACAC,EAII,EAJJA,SACAC,EAGI,EAHJA,OACAC,EAEI,EAFJA,YACAC,EACI,EADJA,eAEA,EAAwBC,oBAAS,GAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA4BF,mBAAS,GAArC,mBAAOG,EAAP,KAAeC,EAAf,KACMC,EAAWC,iBAAO,MAUxB,SAASC,EAAcC,GACrBN,EAAQM,GAAKA,EAAEC,SAAWJ,EAASK,SATrCC,qBAAU,WAGR,OAFAC,SAASC,iBAAiB,QAASN,GAE5B,WACLK,SAASE,oBAAoB,QAASP,MAEvC,CAACJ,IAoCJ,OACE,sBAAKb,UAAU,WAAf,UACE,sBAAKA,UAAU,UAAf,UACE,qBAAKA,UAAU,iBAAf,SACE,uBACEyB,IAAKV,EACLW,YAAarB,EAAQA,EAAMV,WAAaY,EACxCoB,KAAK,OACLtB,MACEA,EAAK,UAAMA,EAAMV,WAAZ,YAA0BU,EAAMT,WAAcY,EAErDoB,SAAU,SAACV,IACRP,GAAQC,GAAQ,GACjBH,EAAeS,EAAEC,OAAOd,OACxBC,EAAS,KAEXuB,UAAW,SAACX,GAAD,OA7CM,SAACA,GAC1B,OAAQA,EAAEY,KACR,IAAK,YACHnB,EACIG,GAAU,SAACiB,GAAD,OAAQA,EAAI3B,EAAQ4B,OAAS,EAAID,EAAI,EAAI,KACnDnB,GAAQ,GACZ,MAEF,IAAK,UACHE,GAAU,SAACiB,GAAD,OAAQA,EAAI,EAAIA,EAAI,EAAI3B,EAAQ4B,OAAS,KACnD,MAEF,IAAK,SACHpB,GAAQ,GACR,MAEF,IAAK,QACHH,EAAeL,EAAQS,GAAQlB,YAC/BW,EAASF,EAAQS,IACjBD,GAAQ,GACRE,EAAU,IAyBYmB,CAAmBf,QAGzC,qBAAKlB,UAAS,gBAAWW,GAAQ,aAEnC,sBAAKX,UAAS,kBAAaW,GAAQ,QAAnC,UACGP,GACCA,EAAQ8B,KAAI,SAACC,GAAD,OACV,sBAAKjB,EAAC,kBACDb,IAAU8B,GACVA,IAAW/B,EAAQS,KADC,YAGvBuB,QAAS,WACP3B,EAAe0B,GACf7B,EAAS6B,GACTvB,GAAQ,GACRE,EAAU,IARd,UAYGqB,EAAOxC,WAZV,IAYuBwC,EAAOvC,YAFvBuC,EAAOE,OAKlB,qBAAKrC,UAAU,kB,qEC/FR,WAAyBsC,EAAKC,EAAYC,GAA1C,mBAAAC,EAAA,sEAELC,EAAWJ,EAFN,SAGOK,MAAMD,GAHb,cAGLE,EAHK,OAIXL,GAAW,GAJA,SAMQK,EAAIC,OANZ,cAMLC,EANK,OAQXP,GAAW,GARA,kBAUJO,GAVI,kCAYXC,QAAQC,IAAI,CAAEC,IAAG,OACjBV,GAAW,GACXC,EAAS,EAAD,IAdG,2D,sBCMf,IAqDeU,EArDE,WACf,MAA0BxC,mBAAS,MAAnC,mBAAOL,EAAP,KAAcC,EAAd,KACA,EAA8BI,mBAAS,IAAvC,mBAAOyC,EAAP,KAAgBC,EAAhB,KACA,EAAsC1C,mBAAS,IAA/C,mBAAOF,EAAP,KAAoBC,EAApB,KACA,EAA0BC,mBAAS,MAAnC,mBAAO2C,EAAP,KAAcb,EAAd,KACA,EAA8B9B,oBAAS,GAAvC,mBAAO4C,EAAP,KAAgBf,EAAhB,KAGMgB,EAAG,wEAAoE/C,GAgB7E,OAZAa,qBAAU,WACR,GAAIb,EAAYwB,OAAS,GDnBd,SAAf,uCCoBMwB,CAAUD,EAAKhB,EAAYC,GAAUiB,MAAK,SAACX,GACxCA,EAA8BM,EAAWN,GAAlC,IAAIY,MAAM,kBAEf,IAA2B,IAAvBlD,EAAYwB,OAGrB,OAFAoB,EAAW,OAIZ,CAAC5C,IAGF,sBAAKR,UAAU,WAAf,UACE,cAAC2D,EAAA,EAAKC,IAAN,UACE,cAAC,EAAD,CACExD,QAAS+C,EACT3C,YAAaA,EACbC,eAAgBA,EAChBF,OAAO,YACPD,SAAUA,EACVsB,SAAU,SAACiC,GAAD,OAASvD,EAASuD,IAC5BxD,MAAOA,MAGVA,GACC,cAACsD,EAAA,EAAKC,IAAN,UACE,cAAC,EAAD,CAAYlE,OAAQW,MAIvBiD,GACC,cAACK,EAAA,EAAKC,IAAN,UACE,cAACE,EAAA,EAAD,CAAQC,QAAM,EAACC,OAAO,eAGzBX,GAAS,4BAAIA,QC1CLY,MARf,WACE,OACE,qBAAKjE,UAAU,MAAf,SACE,cAAC,EAAD,OCFNkE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF9C,SAAS+C,eAAe,W","file":"static/js/main.3676231a.chunk.js","sourcesContent":["import React from 'react'\n\nconst ClientCard = ({\n  client: { first_name, last_name, photo, origin, gender },\n}) => {\n  return (\n    <div className='card'>\n      <img alt='avatar photos' src={photo} className='photo' />\n      <h1>{`${first_name} ${last_name}`}</h1>\n      <p>Origin: {origin === null ? 'N/A' : origin}</p>\n      <p>Gender: {gender === null ? 'N/A' : gender}</p>\n      <p>\n        <button>Contact</button>\n      </p>\n    </div>\n  )\n}\n\nexport default ClientCard\n","import React, { useEffect, useRef, useState } from 'react'\n\nconst Dropdown = ({\n  options,\n  value,\n  setValue,\n  prompt,\n  searchQuery,\n  setSearchQuery,\n}) => {\n  const [open, setOpen] = useState(false)\n  const [cursor, setCursor] = useState(0)\n  const inputRef = useRef(null)\n\n  useEffect(() => {\n    document.addEventListener('click', toggleOptions)\n\n    return () => {\n      document.removeEventListener('click', toggleOptions)\n    }\n  }, [cursor])\n\n  function toggleOptions(e) {\n    setOpen(e && e.target === inputRef.current)\n    //setOpen(options.length > 0 && e && e.target === inputRef.current)\n  }\n\n  const keyboardNavigation = (e) => {\n    switch (e.key) {\n      case 'ArrowDown':\n        open\n          ? setCursor((c) => (c < options.length - 1 ? c + 1 : 0))\n          : setOpen(true)\n        break\n\n      case 'ArrowUp':\n        setCursor((c) => (c > 0 ? c - 1 : options.length - 0))\n        break\n\n      case 'Escape':\n        setOpen(false)\n        break\n\n      case 'Enter':\n        setSearchQuery(options[cursor].first_name)\n        setValue(options[cursor])\n        setOpen(false)\n        setCursor(0)\n\n        break\n\n      default:\n        break\n    }\n  }\n  \n  return (\n    <div className='dropdown'>\n      <div className='control'>\n        <div className='selected-value'>\n          <input\n            ref={inputRef}\n            placeholder={value ? value.first_name : prompt}\n            type='text'\n            value={\n              value ? `${value.first_name} ${value.last_name}` : searchQuery\n            }\n            onChange={(e) => {\n              !open && setOpen(true)\n              setSearchQuery(e.target.value)\n              setValue('')\n            }}\n            onKeyDown={(e) => keyboardNavigation(e)}\n          />\n        </div>\n        <div className={`arrow ${open && 'open'}`}></div>\n      </div>\n      <div className={`options ${open && 'open'}`}>\n        {options &&\n          options.map((option) => (\n            <div e={`option ${\n                (value === option && 'selected') ||\n                (option === options[cursor] && 'selected')\n              }`}\n              onClick={() => {\n                setSearchQuery(option)\n                setValue(option)\n                setOpen(false)\n                setCursor(0)\n              }}\n              key={option.id}\n            >\n              {option.first_name} {option.last_name}\n            </div>\n          ))}\n        <div className='option'></div>\n      </div>\n    </div>\n  )\n}\n\nexport default Dropdown\n","export default async function fetchData(url, setLoading, setError) {\n  try {\n    const fetchUrl = url\n    const res = await fetch(fetchUrl)\n    setLoading(true)\n\n    const data = await res.json()\n\n    setLoading(false)\n\n    return data\n  } catch (err) {\n    console.log({ err })\n    setLoading(false)\n    setError(err)\n  }\n}\n","import React, { useEffect, useState } from 'react'\nimport { Grid, Loader } from 'semantic-ui-react'\nimport ClientCard from '../components/ClientCard'\nimport Dropdown from '../components/Dropdown'\nimport fetchData from '../util/fetchData'\n\nconst HomePage = () => {\n  const [value, setValue] = useState(null)\n  const [clients, setClients] = useState([])\n  const [searchQuery, setSearchQuery] = useState('')\n  const [error, setError] = useState(null)\n  const [loading, setLoading] = useState(false)\n\n  // const URL = `http://localhost:8000/search/first_name/?q=${searchQuery}`\n  const URL = `https://auto-complete-appl.herokuapp.com/search/first_name/?q=${searchQuery}`\n\n  // https://auto-complete-appl.herokuapp.com/\n\n  useEffect(() => {\n    if (searchQuery.length > 0) {\n      fetchData(URL, setLoading, setError).then((data) => {\n        !data ? new Error('Oops...') : setClients(data)\n      })\n    } else if (searchQuery.length === 0) {\n      setClients('')\n    } else {\n      return\n    }\n  }, [searchQuery])\n\n  return (\n    <div className='centered'>\n      <Grid.Row>\n        <Dropdown\n          options={clients}\n          searchQuery={searchQuery}\n          setSearchQuery={setSearchQuery}\n          prompt='Search...'\n          setValue={setValue}\n          onChange={(val) => setValue(val)}\n          value={value}\n        />\n      </Grid.Row>\n      {value && (\n        <Grid.Row>\n          <ClientCard client={value} />\n        </Grid.Row>\n      )}\n\n      {loading && (\n        <Grid.Row>\n          <Loader active inline='centered' />\n        </Grid.Row>\n      )}\n      {error && <p>{error}</p>}\n    </div>\n  )\n}\n\nexport default HomePage\n","import './App.css'\nimport 'semantic-ui-css/semantic.min.css'\nimport HomePage from './pages/HomePage'\n\nfunction App() {\n  return (\n    <div className='App'>\n      <HomePage />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport 'semantic-ui-css/semantic.min.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}